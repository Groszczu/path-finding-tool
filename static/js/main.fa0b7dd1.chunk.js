(this["webpackJsonppathfinding-tool"]=this["webpackJsonppathfinding-tool"]||[]).push([[0],{21:function(n,e,t){n.exports=t(34)},26:function(n,e,t){},34:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(10),c=t.n(o),i=(t(26),t(11)),u=t(3),l=t(1),s=t(2);function d(){var n=Object(l.a)(["\n            grid-template-columns: repeat(",", ",");\n            grid-template-rows: repeat(",", ",");\n            border: none;\n            overflow: hidden;\n            position: absolute;\n            padding: 0;\n            left: 0;\n            top: 0;\n            height: 100vh;\n            width: 100vw;"]);return d=function(){return n},n}function f(){var n=Object(l.a)(["grid-template-rows: repeat(",", 25px);"]);return f=function(){return n},n}function p(){var n=Object(l.a)(["grid-template-columns: repeat(",", 25px);"]);return p=function(){return n},n}function v(){var n=Object(l.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(22px, 1fr));\n    grid-template-rows: repeat(auto-fill, minmax(22px, 1fr));\n    justify-content: center;\n\n    margin: 0 auto;\n    padding: 10px;\n    overflow: auto;\n    background: var(--empty-node-clr);\n    border-radius: 10px;\n    border: 3px solid black;\n    user-select: none;\n\n    z-index: 1;\n\n    ","\n\n    ","\n\n    ","\n"]);return v=function(){return n},n}var m=s.b.div(v(),(function(n){return n.columns&&Object(s.a)(p(),n.columns)}),(function(n){return n.rows&&Object(s.a)(f(),n.rows)}),(function(n){if(n.fullscreen){var e=window.screen,t=e.width>e.height?n.rows:n.columns,r="calc(100vmin / ".concat(t,")");return Object(s.a)(d(),n.columns,r,n.rows,r)}})),b=t(4);function y(){var n=Object(l.a)(["\n  0% {\n    background-color: var(--visit-progress-clr);\n    transform: scale(1.4, 1.4);\n    border-radius: 100%;\n    z-index: 2;\n  }\n  100% {\n    background-color: var(--visited-node-clr);\n    transform: scale(1, 1);\n    border-radius: 0;\n    z-index: 0;\n  }\n"]);return y=function(){return n},n}function x(){var n=Object(l.a)(["\n  0% {\n    transform: scale(1.4, 1.4);\n    z-index: 2;\n  }\n  100%{\n    transform: scale(1, 1);\n    z-index: 0;\n  }\n"]);return x=function(){return n},n}var O,j,h=Object(s.c)(x()),g=Object(s.c)(y());function w(){var n=Object(l.a)(["\n    background: ",";\n    box-shadow: 0px 0px 10px 5px rgba(252,3,3,1);\n    z-index: 3"]);return w=function(){return n},n}function k(){var n=Object(l.a)(["\n    background: ",";\n    box-shadow: 0px 0px 10px 5px rgba(9,135,0,1);\n    z-index: 3"]);return k=function(){return n},n}function N(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," .3s linear;\n    transition: background-color .5s;"]);return N=function(){return n},n}function E(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," .3s linear;"]);return E=function(){return n},n}function S(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," .2s linear;"]);return S=function(){return n},n}var M={empty:"empty_node",wall:"wall_node",visited:"visited_node",result:"result_node",start:"start_node",end:"end_node"},T=[M.empty,M.wall,M.visited,M.result],C=[M.empty,M.wall,M.start,M.end];function D(n){return C.includes(n)}var z=(O={},Object(b.a)(O,M.empty,"var(--empty-node-clr)"),Object(b.a)(O,M.wall,"var(--wall-node-clr)"),Object(b.a)(O,M.visited,"var(--visited-node-clr)"),Object(b.a)(O,M.result,"var(--result-node-clr)"),Object(b.a)(O,M.start,"var(--start-node-clr)"),Object(b.a)(O,M.end,"var(--end-node-clr)"),O),I=(j={},Object(b.a)(j,M.empty,""),Object(b.a)(j,M.wall,Object(s.a)(S(),z[M.wall],h)),Object(b.a)(j,M.visited,Object(s.a)(E(),z[M.visited],g)),Object(b.a)(j,M.result,Object(s.a)(N(),z[M.result],h)),Object(b.a)(j,M.start,Object(s.a)(k(),z[M.start])),Object(b.a)(j,M.end,Object(s.a)(w(),z[M.end])),j),F=M;function _(){var n=Object(l.a)(["\n    width: fill;\n    height: fill;\n    border: 1px solid var(--secondary-clr);\n\n    ","\n"]);return _=function(){return n},n}var P=s.b.span.attrs((function(n){var e=n.delay;return{style:{gridColumnStart:n.x+1,gridRowStart:n.y+1,gridColumnEnd:"span 1",gridRowEnd:"span 1",transitionDelay:"".concat(e,"ms"),animationDelay:"".concat(e,"ms")}}}))(_(),(function(n){return I[n.type]})),R=function(n){var e=n.node,t=n.animationFrameDuration,r=n.onMouseDown,o=n.onMouseOver;return a.a.createElement(P,{delay:e.visitedIndex*t,type:e.type,x:e.x,y:e.y,onMouseDown:r,onMouseOver:o})},W=t(14),A=t(8);function B(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.empty;return{x:n,y:e,type:t,visitedIndex:null}}function J(n,e){return!(!n||!e)&&(n.x===e.x&&n.y===e.y)}function V(n,e,t,r){return U(n,e,t)&&(a=r,T.includes(a));var a}function U(n,e,t){return!J(n,e)&&!J(n,t)}var $=function(n,e){var t=function(n,e){return Array(e).fill(0).map((function(e,t){return Array(n).fill(0).map((function(n,e){return B(e,t)}))}))}(n,e),r=Math.floor(t.length/2),a=Math.floor(t[0].length/2),o=t[r][a],c=t[Math.floor(r/2)][a];return o.type=F.start,c.type=F.end,{columns:n,rows:e,nodes:t,canStartPathfinding:!0,startNode:o,endNode:c}}(40,30),q=Object(A.b)({name:"nodes",initialState:$,reducers:{setNodeType:function(n,e){var t=e.payload,r=t.x,a=t.y,o=t.type;V(t,n.startNode,n.endNode,o)&&(n.nodes[a][r]=B(r,a,o))},setNodesType:function(n,e){var t,r=e.payload,a=r.nodes,o=r.type,c=n.startNode,u=n.endNode,l=Object(W.a)(a.entries());try{for(l.s();!(t=l.n()).done;){var s=Object(i.a)(t.value,2),d=s[0],f=s[1];if(V(f,c,u,o)){var p=f.x,v=f.y;n.nodes[v][p]=B(p,v,o),r.withIndex&&(n.nodes[v][p].visitedIndex=d)}}}catch(m){l.e(m)}finally{l.f()}},setVisited:function(n,e){var t,r=e.payload.nodes,a=n.startNode,o=n.endNode,c=Object(W.a)(r);try{for(c.s();!(t=c.n()).done;){var i=t.value;if(U(i,a,o)){var u=n.nodes[i.y][i.x];u.visitedIndex=i.visitedIndex,u.type=F.visited}}}catch(l){c.e(l)}finally{c.f()}n.canStartPathfinding=!1},setStartNode:function(n,e){var t=e.payload,r=t.x,a=t.y,o=n.startNode;if(U(t,o,n.endNode)){n.nodes[o.y][o.x]=B(o.x,o.y);var c=B(r,a,F.start);n.startNode=c,n.nodes[a][r]=c}},setEndNode:function(n,e){var t=e.payload,r=t.x,a=t.y,o=n.startNode,c=n.endNode;if(U(t,o,c)){n.nodes[c.y][c.x]=B(c.x,c.y);var i=B(r,a,F.end);n.endNode=i,n.nodes[a][r]=i}},clearNodes:function(n){n.nodes.forEach((function(n){return n.forEach((function(n){D(n.type)||(n.type=F.empty),n.visitedIndex=null}))})),n.canStartPathfinding=!0},resetNodes:function(){return $}}}),G=q.actions,H=q.reducer,K=G.setNodeType,L=G.setNodesType,Q=G.setStartNode,X=G.setEndNode,Y=G.clearNodes,Z=G.resetNodes,nn=G.setVisited,en=H,tn=t(6);function rn(n){var e=[],t=n.flat().filter((function(n){return n.type!==F.wall})).map((function(n){return Object(tn.a)(Object(tn.a)({},n),{},{distance:n.type===F.start?0:1/0,previousNode:null})})),r=0,a=function(){t.sort((function(n,e){return n.distance-e.distance}));var n=t[0];return n.distance===1/0?{v:{visited:e,result:null,moves:r}}:(t.shift(),t=t.map((function(e){return t=n,r=e,Math.abs(t.x-r.x)+Math.abs(t.y-r.y)===1?Object(tn.a)(Object(tn.a)({},e),{},{distance:Math.min(e.distance,n.distance+1),previousNode:e.distance>n.distance+1?n:e.previousNode}):e;var t,r})),e.push(Object(tn.a)(Object(tn.a)({},n),{},{visitedIndex:r})),n.type===F.end?"break":void 0)};n:for(;0!==t.length;r++){var o=a();switch(o){case"break":break n;default:if("object"===typeof o)return o.v}}for(var c=[],i=e.find((function(n){return n.type===F.end})).previousNode;i.type!==F.start;i=i.previousNode)c.push(i);return{visited:e,result:c,moves:r}}var an=t(3).useSelector,on=function(){return an((function(n){return n.nodes}))};function cn(){var n=Object(l.a)(["\n      opacity: 1;\n      transform: scale(1.2, 1.2);\n      border-color: var(--secondary-clr);\n    "]);return cn=function(){return n},n}function un(){var n=Object(l.a)(["\n  border-radius: 10px;\n  background-color: ",";\n  font-size: 1.5rem;\n  color: var(--light-txt-clr);\n  padding: ",";\n  text-align: center;\n  max-width: 100px;\n  margin: 2% auto 0 auto;\n  border: 2px solid black;\n  cursor: pointer;\n  opacity: 0.6;\n  transition: opacity 0.25s, transform 0.25s;\n\n  ","\n\n  :hover {\n    opacity: 1;\n  }\n\n"]);return un=function(){return n},n}var ln=s.b.button(un(),(function(n){return n.primary?"var(--primary-clr)":"var(--secondary-clr)"}),(function(n){return n.children?".5em .75em":".75em"}),(function(n){return n.selected&&Object(s.a)(cn())}));function sn(){var n=Object(l.a)(["> * { margin-bottom: 0.4em }\n                                flex-direction: column;\n                                position: fixed;\n                                top: ",";\n                                right: ",";\n                                left: ",";\n                                bottom: ",";\n                                z-index: 2;"]);return sn=function(){return n},n}function dn(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    > * {\n        width: 100%;\n        margin: .4em;\n    }\n    ","\n"]);return dn=function(){return n},n}var fn=s.b.div(dn(),(function(n){return n.fullscreen&&Object(s.a)(sn(),n.top,n.right,n.left,n.bottom)})),pn=function(n){var e,t,r=n.fullscreen,o=n.canStart,c=n.startOnClick,i=n.clearOnClick,u=n.resetOnClick,l=!1;return o?(e=c,t="Start"):(e=i,t="Clear",l=!0),a.a.createElement(fn,{fullscreen:r,bottom:0,right:0},a.a.createElement(ln,{onClick:e,primary:l},t),a.a.createElement(ln,{onClick:u,primary:!0},"Reset"))},vn=function(n){var e=n.animationFrameDuration,t=Object(r.useState)(!1),o=Object(i.a)(t,2),c=o[0],l=o[1],s=on(),d=s.nodes,f=s.columns,p=s.rows,v=s.canStartPathfinding,b=Object(u.useSelector)((function(n){return n.tools.toolType})),y=Object(u.useSelector)((function(n){return n.tools.fullscreen})),x=Object(u.useDispatch)(),O=function(n,e){c&&j(n,e)},j=function(n,e){return v&&x(function(n,e,t){var r;switch(t){case F.empty:case F.wall:case F.visited:case F.result:r=K({x:n,y:e,type:t});break;case F.start:r=Q({x:n,y:e});break;case F.end:r=X({x:n,y:e})}return r}(n.x,n.y,e))},h=Object(r.useRef)(null);return a.a.createElement(a.a.Fragment,null,a.a.createElement(m,{fullscreen:y,columns:f,rows:p,onMouseDown:function(){return v&&l(!0)},onMouseUp:function(){return v&&l(!1)}},d.flat().map((function(n){return a.a.createElement(R,{key:"".concat(n.x,"_").concat(n.y),animationFrameDuration:e,node:n,onMouseDown:j.bind(null,n,b),onMouseOver:O.bind(null,n,b)})}))),a.a.createElement(pn,{fullscreen:y,canStart:v,startOnClick:function(){var n=rn(d),t=n.visited,r=n.result,a=n.moves;t&&x(nn({nodes:t})),r&&(h.current=setTimeout((function(){return x(L({nodes:r,type:F.result,withIndex:!0}))}),e*a))},clearOnClick:function(){clearTimeout(h.current),x(Y())},resetOnClick:function(){clearTimeout(h.current),x(Z())}}))};function mn(){var n=Object(l.a)(["\n  margin: 0 auto;\n  width: 90%;\n  max-width: 1100px;\n  text-align: center;\n  border-radius: 10px;\n"]);return mn=function(){return n},n}var bn=s.b.div(mn());function yn(){var n=Object(l.a)(["\n  font-size: 3rem;\n  color: var(--text-clr);\n  -webkit-text-stroke: 2px black;\n"]);return yn=function(){return n},n}var xn=s.b.h1(yn()),On={toolType:F.wall,fullscreen:!1},jn=Object(A.b)({name:"tools",initialState:On,reducers:{setToolType:function(n,e){var t=e.payload;D(t)&&(n.toolType=t)},toggleFullscreen:function(n){n.fullscreen=!n.fullscreen}}}),hn=jn.reducer,gn=jn.actions,wn=gn.setToolType,kn=gn.toggleFullscreen,Nn=hn,En=function(){var n=Object(u.useDispatch)(),e=Object(u.useSelector)((function(n){return n.tools.toolType})),t=Object(u.useSelector)((function(n){return n.tools.fullscreen}));return a.a.createElement(fn,{fullscreen:t,top:0,right:"-1px"},C.map((function(t){return a.a.createElement(ln,{key:t,onClick:function(){return n(wn(t))},selected:t===e,style:{backgroundColor:z[t],maxWidth:".75em",margin:".2em .4em"}})})))},Sn=function(){var n=Object(u.useDispatch)(),e=Object(u.useSelector)((function(n){return n.tools.fullscreen}));return a.a.createElement(ln,{onClick:function(){return n(kn())},style:{position:"fixed",left:0,bottom:0,margin:".4em",zIndex:"2"}},e?"\u274c":"\ud83d\udd3c")};var Mn=function(){return a.a.createElement(bn,null,a.a.createElement(xn,null,"Pathfinding tool"),a.a.createElement(En,null),a.a.createElement(vn,{animationFrameDuration:20}),a.a.createElement(Sn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Tn={nodes:en,tools:Nn},Cn=Object(A.a)({reducer:Tn,middleware:[]});c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.Provider,{store:Cn},a.a.createElement(Mn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.fa0b7dd1.chunk.js.map