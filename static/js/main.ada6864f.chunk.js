(this["webpackJsonppathfinding-tool"]=this["webpackJsonppathfinding-tool"]||[]).push([[0],{22:function(n,e,t){n.exports=t(35)},27:function(n,e,t){},35:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(12),c=t.n(o),i=(t(27),t(15)),u=t(1),l=t(2),s=t(3);function d(){var n=Object(l.a)(["\n            left: calc((100vw - ",") / 2);\n            top: 0;\n            position: absolute;\n            max-width: ",";\n        "]);return d=function(){return n},n}function f(){var n=Object(l.a)(["\n  margin: 0 auto;\n  min-width: ","px;\n  max-width: 100%;\n  background: var(--empty-node-clr);\n  border-radius: 10px;\n  overflow: hidden;\n  resize: horizontal;\n  border: 3px solid black;\n  ","\n"]);return f=function(){return n},n}function m(){var n=Object(l.a)(["\n  position: relative;\n  padding-bottom: ","%;\n  width: 100%;\n"]);return m=function(){return n},n}function b(){var n=Object(l.a)(["\n    display: grid;\n    grid-template-columns: repeat(",", calc(100% / ","));\n    grid-template-rows: repeat(",", calc(100% / ","));\n    justify-content: center;\n    position: absolute;\n    top: 0;\n\n    margin: 0 auto;\n    user-select: none;\n\n    z-index: 1;\n    width: 100%;\n    height: 100%;\n"]);return b=function(){return n},n}var p=s.b.div(b(),(function(n){return n.columns}),(function(n){return n.columns}),(function(n){return n.rows}),(function(n){return n.rows})),v=s.b.div(m(),(function(n){return n.aspectRatio})),h=s.b.div(f(),(function(n){return 6*n.columns}),(function(n){if(n.fullscreen){var e=window.screen,t=e.width,r=e.height>t?"100vmin":"".concat(n.aspectRatio,"vmax");return Object(s.a)(d(),r,r)}}));function g(n){var e=Object(r.useRef)(null);Object(r.useEffect)((function(){e.current.style.width="100%"}),[n.fullscreen]);var t=n.rows/n.columns*100;return a.a.createElement(h,{ref:e,fullscreen:n.fullscreen,aspectRatio:t,columns:n.columns},a.a.createElement(v,{aspectRatio:t},a.a.createElement(p,n)))}var y=t(5);function j(){var n=Object(l.a)(["\n  0% {\n    background-color: var(--visited-start-clr);\n    transform: scale(0.4, 0.4);\n    border-radius: 100%;\n    z-index: 2;\n  }\n  50% {\n    background-color: var(--visited-progress-clr);\n    transform: scale(1, 1);\n    border-radius: 0;\n    z-index: 2;\n  }\n  100% {\n    background-color: var(--visited-node-clr);\n    z-index: 0;\n  }\n"]);return j=function(){return n},n}function O(){var n=Object(l.a)(["\n  0% {\n    transform: scale(1.4, 1.4);\n    z-index: 2;\n  }\n  100%{\n    transform: scale(1, 1);\n    z-index: 0;\n  }\n"]);return O=function(){return n},n}var x,w,E=Object(s.c)(O()),k=Object(s.c)(j());function S(){var n=Object(l.a)(["\n    background: ",";\n    box-shadow: 0px 0px 10px 5px rgba(252,3,3,1);\n    z-index: 3"]);return S=function(){return n},n}function F(){var n=Object(l.a)(["\n    background: ",";\n    box-shadow: 0px 0px 10px 5px rgba(9,135,0,1);\n    z-index: 3"]);return F=function(){return n},n}function M(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," .3s linear;\n    transition: background-color .5s;"]);return M=function(){return n},n}function N(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," 1.4s linear;"]);return N=function(){return n},n}function T(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," .2s linear;"]);return T=function(){return n},n}var z={empty:"empty_node",wall:"wall_node",visited:"visited_node",result:"result_node",start:"start_node",end:"end_node"},C=(new Set([z.empty,z.wall,z.visited,z.result]),new Set([z.empty,z.wall,z.start,z.end]));function A(n){return C.has(n)}var D=(x={},Object(y.a)(x,z.empty,"var(--empty-node-clr)"),Object(y.a)(x,z.wall,"var(--wall-node-clr)"),Object(y.a)(x,z.visited,"var(--visited-node-clr)"),Object(y.a)(x,z.result,"var(--result-node-clr)"),Object(y.a)(x,z.start,"var(--start-node-clr)"),Object(y.a)(x,z.end,"var(--end-node-clr)"),x),R=(w={},Object(y.a)(w,z.empty,""),Object(y.a)(w,z.wall,Object(s.a)(T(),D[z.wall],E)),Object(y.a)(w,z.visited,Object(s.a)(N(),D[z.visited],k)),Object(y.a)(w,z.result,Object(s.a)(M(),D[z.result],E)),Object(y.a)(w,z.start,Object(s.a)(F(),D[z.start])),Object(y.a)(w,z.end,Object(s.a)(S(),D[z.end])),w),I=z;function _(){var n=Object(l.a)(["\n    width: fill;\n    height: fill;\n    border: 1px solid var(--secondary-clr);\n\n    ","\n"]);return _=function(){return n},n}var P=s.b.span.attrs((function(n){var e=n.delay;return{style:{gridColumnStart:n.x+1,gridRowStart:n.y+1,gridColumnEnd:"span 1",gridRowEnd:"span 1",transitionDelay:"".concat(e,"ms"),animationDelay:"".concat(e,"ms")}}}))(_(),(function(n){return R[n.type]})),W=function(n){var e=n.animationFrameTime,t=n.x,r=n.y,o=n.onMouseDown,c=n.onMouseOver,i=Object(u.c)((function(n){return n.nodes.nodes[r][t]}));return a.a.createElement(P,{delay:i.visitedIndex*e,type:i.type,x:i.x,y:i.y,onMouseDown:function(){return o(i)},onMouseOver:function(){return c(i)}})},B=t(9);function H(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.empty;return{x:n,y:e,type:t,visitedIndex:null}}function q(n,e){return!(!n||!e)&&(n.x===e.x&&n.y===e.y)}function G(n,e){return Math.abs(n.x-e.x)+Math.abs(n.y-e.y)===1}function J(n,e,t){return q(n,e)||q(n,t)}function X(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function L(n){return n.map((function(n){return n.map((function(n){return A(n.type)?n:H(n.x,n.y,I.empty)}))}))}var U="ready",$="running",K="done";var Q=function(n,e){var t=function(n,e){return Array(e).fill(0).map((function(e,t){return Array(n).fill(0).map((function(n,e){return H(e,t)}))}))}(n,e),r=Math.floor(t.length/2),a=Math.floor(t[0].length/2),o={y:r,x:a},c={y:Math.floor(r/2),x:a};return t[o.y][o.x].type=I.start,t[c.y][c.x].type=I.end,{columns:n,rows:e,nodes:t,startNode:o,endNode:c,pathfinding:U,selectedDrawTool:I.wall}}(40,30),V=Object(B.b)({name:"nodesMetadata",initialState:Q,reducers:{changeColumns:function(n,e){var t=e.payload;n.columns=t},changeRows:function(n,e){var t=e.payload;n.rows=t},startPathfinding:function(n){n.pathfinding===U&&(n.pathfinding=$)},setNodesType:function(n,e){switch(n.pathfinding){case U:un(n,e);break;case $:!function(n,e){var t=e.payload,r=t.nodes,a=t.type,o=n.startNode,c=n.endNode;switch(a){case I.visited:case I.result:r.forEach((function(e){if(!J(e,o,c)){var t=n.nodes[e.y][e.x];t.type=a,t.visitedIndex=e.visitedIndex,a===I.result&&(n.pathfinding=K)}}))}}(n,e)}},changeSelectedTool:function(n,e){var t=e.payload;A(t)&&(n.selectedDrawTool=t)},draw:function(n,e){n.pathfinding!==$&&(n.pathfinding===K&&(n.nodes=L(n.nodes),n.pathfinding=U),e.payload.type=n.selectedDrawTool,un(n,e))},clearNodes:function(n){n.nodes=L(n.nodes),n.pathfinding=U},resetNodes:function(){return Q}}}),Y=V.actions,Z=V.reducer,nn=(Y.changeColumns,Y.changeRows,Y.startPathfinding),en=Y.setNodesType,tn=Y.changeSelectedTool,rn=Y.draw,an=Y.clearNodes,on=Y.resetNodes,cn=Z;function un(n,e){var t=e.payload,r=t.nodes,a=t.type,o=n.startNode,c=n.endNode;switch(a){case I.start:case I.end:if(1!==r.length)return;var i=r[0];if(J(i,o,c))return;var u=a===I.start?o:c,l=u.x,s=u.y;n.nodes[s][l].type=I.empty;var d=i.x,f=i.y;u.x=d,u.y=f,n.nodes[f][d].type=a;break;case I.empty:case I.wall:var m=n.nodes;r.forEach((function(n){J(n,o,c)||(m[n.y][n.x].type=a)}))}}var ln=function(){var n=Object(r.useRef)(!1),e=Object(r.useRef)(!1),t=Object(u.c)((function(n){return n.nodes.columns})),o=Object(u.c)((function(n){return n.nodes.rows})),c=Object(u.c)((function(n){return n.tools.animationFrameTime})),l=Object(u.c)((function(n){return n.tools.fullscreen})),s=Object(u.b)(),d=function(e){n.current&&f(e)},f=function(n){n.type!==I.start&&n.type!==I.end||(s(tn(n.type)),e.current=!0),s(rn({nodes:[n]}))},m=Object(i.a)(Array(o).keys()),b=Object(i.a)(Array(t).keys());return a.a.createElement(g,{fullscreen:l,columns:t,rows:o,onMouseDownCapture:function(e){2===e.button&&s(tn(I.empty)),n.current=!0},onMouseUp:function(t){switch(n.current=!1,t.button){case 0:e.current&&s(tn(I.wall)),e.current=!1;break;case 2:s(tn(I.wall))}},onContextMenu:function(n){return n.preventDefault()}},m.map((function(n){return b.map((function(e){return a.a.createElement(W,{key:"".concat(e,"_").concat(n),x:e,y:n,animationFrameTime:c,onMouseDown:f,onMouseOver:d})}))})))};function sn(){var n=Object(l.a)(["\n  margin: 0 auto;\n  width: 60%;\n  max-width: 1920px;\n  text-align: center;\n  border-radius: 10px;\n  \n  @media (max-width: 1024px) {\n    width: 80%;\n  }\n\n  @media (max-width: 425px) {\n    width: 95%;\n  }\n\n  @media (max-width: 320px) {\n    width: 100%;\n  }\n"]);return sn=function(){return n},n}var dn=s.b.div(sn());function fn(){var n=Object(l.a)(["\n  font-size: 3rem;\n  color: var(--text-clr);\n  -webkit-text-stroke: 2px black;\n  margin-bottom: .2em;\n"]);return fn=function(){return n},n}var mn=s.b.h1(fn()),bn=t(7);function pn(){var n=Object(l.a)(["\n      opacity: 1;\n      transform: scale(1.2, 1.2);\n      border-color: var(--secondary-clr);\n    "]);return pn=function(){return n},n}function vn(){var n=Object(l.a)(["\n  border-radius: 10px;\n  background-color: ",";\n  font-size: var(--clamped-font-size);\n  color: var(--light-text-clr);\n  padding: ",";\n  text-align: center;\n  margin: .4rem;\n  border: 2px solid black;\n  cursor: pointer;\n  opacity: 0.6;\n  transition: opacity 0.25s, transform 0.25s;\n\n  ","\n\n  :hover {\n    opacity: 1;\n  }\n\n"]);return vn=function(){return n},n}var hn=s.b.button(vn(),(function(n){return n.primary?"var(--primary-clr)":"var(--secondary-clr)"}),(function(n){return n.children?".5em .75em":".75em"}),(function(n){return n.selected&&Object(s.a)(pn())}));function gn(){var n=Object(l.a)(["> * { width: 100%; margin: 0; }\n                                > * + * { margin-top: .4em; }\n                                flex-direction: column;\n                                position: fixed;\n                                top: ",";\n                                right: ",";\n                                left: ",";\n                                bottom: ",";\n                                z-index: ",";\n                                margin: .4rem;"]);return gn=function(){return n},n}function yn(){var n=Object(l.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    flex: 1 1 300px;\n    font-size: var(--clamped-font-size);\n    padding: .4em;\n    margin: .8em 0;\n    color: var(--light-text-clr);\n    border-radius: 10px;\n    background-color: var(--light-background-clr);\n    border: 3px solid black;\n\n    justify-content: space-evenly;\n    align-items: center;\n    > * { \n        margin: 0;\n    }\n\n    ","\n"]);return yn=function(){return n},n}var jn=s.b.div(yn(),(function(n){return n.fullscreen&&Object(s.a)(gn(),n.top,n.right,n.left,n.bottom,n.zIndex)})),On=t(4),xn={comparer:function(n,e){return n.distanceFromStart-e.distanceFromStart},addHeuristics:function(n,e,t){return n.map((function(n){return Object(On.a)(Object(On.a)({},n),{},{distanceFromStart:n.type===I.start?0:1/0,previousNode:null})}))},map:function(n,e){var t=n.distanceFromStart+1;return G(n,e)?Object(On.a)(Object(On.a)({},e),{},{distanceFromStart:Math.min(e.distanceFromStart,t),previousNode:e.distanceFromStart>t?n:e.previousNode}):e},endCondition:function(n){return n.distanceFromStart===1/0}},wn={comparer:function(n,e){return n.combinedDistance-e.combinedDistance},addHeuristics:function(n,e,t){return n.map((function(n){var e=n.type===I.start?0:1/0,r=Math.ceil(X(n,t));return Object(On.a)(Object(On.a)({},n),{},{distanceFromStart:e,distanceToEnd:r,combinedDistance:e+r,previousNode:null})}))},map:function(n,e){var t=n.distanceFromStart+1,r=t+e.distanceToEnd;return G(n,e)?Object(On.a)(Object(On.a)({},e),{},{distanceFromStart:Math.min(e.distanceFromStart,t),combinedDistance:Math.min(e.combinedDistance,r),previousNode:e.distanceFromStart>r?n:e.previousNode}):e},endCondition:function(n){return n.combinedDistance===1/0}},En={comparer:function(n,e){return(n.visited?n.distanceToEnd:Number.MAX_SAFE_INTEGER)-(e.visited?e.distanceToEnd:Number.MAX_SAFE_INTEGER)},addHeuristics:function(n,e,t){return n.map((function(n){var e=n.type===I.start,r=Math.ceil(X(n,t));return Object(On.a)(Object(On.a)({},n),{},{distanceToEnd:r,visited:e,previousNode:null})}))},map:function(n,e){return G(n,e)?Object(On.a)(Object(On.a)({},e),{},{visited:!0,previousNode:n}):e},endCondition:function(n){return!n.visited}};function kn(n,e,t,r){var a=[],o=n.flat().filter((function(n){return n.type!==I.wall})),c=r.addHeuristics(o,e,t),i=function(n){c.sort(r.comparer);var e=c[0];return r.endCondition(e)?{v:{visited:a,result:null}}:(c.shift(),c=c.map((function(n){return r.map(e,n)})),a.push(Object(On.a)(Object(On.a)({},e),{},{visitedIndex:n})),e.type===I.end?"break":void 0)};n:for(var u=0;0!==c.length;u++){var l=i(u);switch(l){case"break":break n;default:if("object"===typeof l)return l.v}}for(var s=[],d=0,f=a.find((function(n){return n.type===I.end})).previousNode;(null===(m=f)||void 0===m?void 0:m.type)!==I.start;f=f.previousNode,d++){var m;if(!f)return{visited:a,result:s};s.push(Object(On.a)(Object(On.a)({},f),{},{visitedIndex:d}))}return{visited:a,result:s}}function Sn(n,e,t){return kn(n,e,t,wn)}function Fn(n,e,t){return kn(n,e,t,xn)}function Mn(n,e,t){return kn(n,e,t,En)}var Nn={dijkstra:"Dijkstra's",aStar:"A*",greedy:"Greedy"};var Tn=Nn,zn={fullscreen:!1,animationFrameTime:20,pathfindingAlgorithm:Tn.dijkstra},Cn=Object(B.b)({name:"tools",initialState:zn,reducers:{toggleFullscreen:function(n){n.fullscreen=!n.fullscreen},changeAnimationFrameTime:function(n,e){var t=e.payload;n.animationFrameTime=t},changePathfindingAlgorithm:function(n,e){var t=e.payload;n.pathfindingAlgorithm=t}}}),An=Cn.reducer,Dn=Cn.actions,Rn=Dn.toggleFullscreen,In=Dn.changeAnimationFrameTime,_n=Dn.changePathfindingAlgorithm,Pn=An;function Wn(){var n=Object(l.a)(["\n  width: 90%;\n  padding: .4em;\n"]);return Wn=function(){return n},n}var Bn=s.b.input.attrs((function(){return{type:"range"}}))(Wn());function Hn(){var n=Object(l.a)(["\n    color: var(--light-text-clr);\n"]);return Hn=function(){return n},n}var qn=s.b.label(Hn());function Gn(){var n=Object(l.a)(["\n    display: inline-flex;\n    flex-direction: ",";\n    justify-content: center;\n    align-items: center;\n    max-width: 450px;\n    max-hight: 100%;\n    font-size: var(--clamped-font-size);\n    flex: 1 1 60px;\n"]);return Gn=function(){return n},n}var Jn=s.b.span(Gn(),(function(n){return n.direction})),Xn=function(){var n=Object(u.c)((function(n){return n.tools.animationFrameTime})),e=Object(u.c)((function(n){return n.nodes.pathfinding})),t=Object(u.b)(),o=Object(r.useState)(n),c=Object(bn.a)(o,2),i=c[0],l=c[1];Object(r.useEffect)((function(){l(n)}),[n]);var s=e===U;return a.a.createElement(Jn,{direction:"column"},a.a.createElement(qn,{htmlFor:"animation-speed-range"},"Animation: ",i,"ms"),a.a.createElement(Bn,{id:"animation-speed-range",value:i,disabled:!s,min:0,max:250,step:10,onChange:function(n){l(n.target.value)},onBlur:function(){i!==n&&t(In(i))}}))};function Ln(){var n=Object(l.a)(["\n    background-color: ",";\n"]);return Ln=function(){return n},n}function Un(){var n=Object(l.a)(["\n    width: 90%;\n    color: var(--text-clr);\n    border-radius: 5px;\n    border: 3px solid black;\n    font-size: inherit;\n    padding: .2em .4em;\n    background-color: var(--empty-node-clr);\n"]);return Un=function(){return n},n}var $n=s.b.select(Un()),Kn=s.b.option(Ln(),(function(n){return n.isSelected?"var(--empty-node-clr)":"var(--background-clr)"})),Qn=function(){var n=Object(u.c)((function(n){return n.tools.pathfindingAlgorithm})),e=Object(u.b)();return a.a.createElement(Jn,{direction:"column"},a.a.createElement(qn,{htmlFor:"algorithm-select"},"Algorithm"),a.a.createElement($n,{id:"algorithm-select",onChange:function(n){e(_n(n.target.value))},value:n},Object.entries(Tn).map((function(e){var t=Object(bn.a)(e,2),r=t[0],o=t[1];return a.a.createElement(Kn,{key:r,value:o,isSelected:n===o},o)}))))},Vn=function(){var n=Object(u.b)(),e=Object(r.useState)(!1),t=Object(bn.a)(e,2),o=t[0],c=t[1],i=Object(r.useState)(!1),l=Object(bn.a)(i,2),s=l[0],d=l[1],f=Object(u.c)((function(n){return n.nodes.selectedDrawTool})),m=Object(u.c)((function(n){return n.tools.fullscreen}));return a.a.createElement(jn,{fullscreen:m,top:0,right:0,zIndex:100,onMouseEnter:m?function(){return c(!0)}:null,onMouseLeave:m?function(){return c(!1)}:null,onFocus:m?function(){return d(!0)}:null,onBlur:m?function(){return d(!1)}:null},!m||o||s?a.a.createElement(a.a.Fragment,null,a.a.createElement(Jn,null,Array.from(C).map((function(e){return a.a.createElement(hn,{"aria-label":"".concat(e," button"),key:e,onClick:function(){return n(tn(e))},selected:e===f,style:{backgroundColor:D[e],maxWidth:".75em",margin:".2em"}})}))),a.a.createElement(Xn,null),a.a.createElement(Qn,null)):a.a.createElement(hn,{selected:!0,style:{backgroundColor:D[f],maxWidth:".75em",margin:".2em .4em"}}))},Yn=function(){var n=Object(u.b)(),e=Object(u.c)((function(n){return n.tools.fullscreen}));return a.a.createElement(hn,{onClick:function(){e?document.fullscreen&&document.exitFullscreen():document.querySelector("body").requestFullscreen(),n(Rn())},style:{position:"fixed",maxWidth:"none",left:0,bottom:0,zIndex:"2"}},e?"\u274c":"\ud83d\udd3c")},Zn=function(n,e,t,a,o){var c=Object(u.b)(),i=Object(r.useRef)(null);return[Object(r.useCallback)((function(){c(nn());var r=a(n,e,t),u=r.visited,l=r.result;u&&c(en({nodes:u,type:I.visited})),l&&(i.current=setTimeout((function(){return c(en({nodes:l,type:I.result}))}),o*u.length))}),[a,n,e,t,o,c]),Object(r.useCallback)((function(){return clearTimeout(i.current)}),[i])]},ne=function(){var n=Object(u.c)((function(n){return n.tools.fullscreen})),e=Object(u.c)((function(n){return n.nodes.nodes})),t=Object(u.c)((function(n){return n.nodes.startNode})),r=Object(u.c)((function(n){return n.nodes.endNode})),o=Object(u.c)((function(n){return n.nodes.pathfinding})),c=Object(u.c)((function(n){return n.tools.pathfindingAlgorithm})),i=Object(u.c)((function(n){return n.tools.animationFrameTime})),l=Object(u.b)(),s=function(n){switch(n){case Nn.dijkstra:return Fn;case Nn.aStar:return Sn;case Nn.greedy:return Mn;default:return}}(c),d=Zn(e,t,r,s,i),f=Object(bn.a)(d,2),m=f[0],b=f[1];return a.a.createElement(jn,{fullscreen:n,bottom:0,right:0,zIndex:99},o===U?a.a.createElement(hn,{onClick:function(){return m()},primary:!1},"Start"):a.a.createElement(hn,{onClick:function(){b(),l(an())},primary:!0},"Clear"),a.a.createElement(hn,{onClick:function(){b(),l(on())},primary:!0},"Reset"))};var ee=function(){var n=Object(u.c)((function(n){return n.tools.fullscreen}));return a.a.createElement(dn,null,n||a.a.createElement(mn,null,"Pathfinding tool"),a.a.createElement(Vn,null),a.a.createElement(ln,null),a.a.createElement(ne,null),a.a.createElement(Yn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te={nodes:cn,tools:Pn},re=Object(B.a)({reducer:te,middleware:[]});c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:re},a.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.ada6864f.chunk.js.map