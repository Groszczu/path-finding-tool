(this["webpackJsonppathfinding-tool"]=this["webpackJsonppathfinding-tool"]||[]).push([[0],{22:function(n,e,t){n.exports=t(35)},27:function(n,e,t){},35:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(11),c=t.n(o),i=(t(27),t(14)),u=t(1),l=t(2),s=t(3);function d(){var n=Object(l.a)(["\n            grid-template-columns: repeat(",", ",");\n            grid-template-rows: repeat(",", ",");\n            border: none;\n            overflow: hidden;\n            position: absolute;\n            padding: 0;\n            left: 0;\n            top: 0;\n            height: 100vh;\n            width: 100vw;"]);return d=function(){return n},n}function f(){var n=Object(l.a)(["grid-template-rows: repeat(",", 25px);"]);return f=function(){return n},n}function b(){var n=Object(l.a)(["grid-template-columns: repeat(",", 25px);"]);return b=function(){return n},n}function p(){var n=Object(l.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(22px, 1fr));\n    grid-template-rows: repeat(auto-fill, minmax(22px, 1fr));\n    justify-content: center;\n\n    margin: 0 auto;\n    padding: 10px;\n    overflow: auto;\n    background: var(--empty-node-clr);\n    border-radius: 10px;\n    border: 3px solid black;\n    user-select: none;\n\n    z-index: 1;\n\n    ","\n\n    ","\n\n    ","\n"]);return p=function(){return n},n}var m=s.b.div(p(),(function(n){return n.columns&&Object(s.a)(b(),n.columns)}),(function(n){return n.rows&&Object(s.a)(f(),n.rows)}),(function(n){if(n.fullscreen){var e=window.screen,t=e.width>e.height?n.rows:n.columns,r="calc(100vmin / ".concat(t,")");return Object(s.a)(d(),n.columns,r,n.rows,r)}})),v=t(4);function y(){var n=Object(l.a)(["\n  0% {\n    background-color: var(--visit-progress-clr);\n    transform: scale(1.4, 1.4);\n    border-radius: 100%;\n    z-index: 2;\n  }\n  100% {\n    background-color: var(--visited-node-clr);\n    transform: scale(1, 1);\n    border-radius: 0;\n    z-index: 0;\n  }\n"]);return y=function(){return n},n}function g(){var n=Object(l.a)(["\n  0% {\n    transform: scale(1.4, 1.4);\n    z-index: 2;\n  }\n  100%{\n    transform: scale(1, 1);\n    z-index: 0;\n  }\n"]);return g=function(){return n},n}var h,x,j=Object(s.c)(g()),O=Object(s.c)(y());function w(){var n=Object(l.a)(["\n    background: ",";\n    box-shadow: 0px 0px 10px 5px rgba(252,3,3,1);\n    z-index: 3"]);return w=function(){return n},n}function k(){var n=Object(l.a)(["\n    background: ",";\n    box-shadow: 0px 0px 10px 5px rgba(9,135,0,1);\n    z-index: 3"]);return k=function(){return n},n}function E(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," .3s linear;\n    transition: background-color .5s;"]);return E=function(){return n},n}function N(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," .3s linear;"]);return N=function(){return n},n}function D(){var n=Object(l.a)(["\n    background: ",";\n    animation: "," .2s linear;"]);return D=function(){return n},n}var M={empty:"empty_node",wall:"wall_node",visited:"visited_node",result:"result_node",start:"start_node",end:"end_node"},C=(new Set([M.empty,M.wall,M.visited,M.result]),new Set([M.empty,M.wall,M.start,M.end]));function z(n){return C.has(n)}var T=(h={},Object(v.a)(h,M.empty,"var(--empty-node-clr)"),Object(v.a)(h,M.wall,"var(--wall-node-clr)"),Object(v.a)(h,M.visited,"var(--visited-node-clr)"),Object(v.a)(h,M.result,"var(--result-node-clr)"),Object(v.a)(h,M.start,"var(--start-node-clr)"),Object(v.a)(h,M.end,"var(--end-node-clr)"),h),S=(x={},Object(v.a)(x,M.empty,""),Object(v.a)(x,M.wall,Object(s.a)(D(),T[M.wall],j)),Object(v.a)(x,M.visited,Object(s.a)(N(),T[M.visited],O)),Object(v.a)(x,M.result,Object(s.a)(E(),T[M.result],j)),Object(v.a)(x,M.start,Object(s.a)(k(),T[M.start])),Object(v.a)(x,M.end,Object(s.a)(w(),T[M.end])),x),I=M;function F(){var n=Object(l.a)(["\n    width: fill;\n    height: fill;\n    border: 1px solid var(--secondary-clr);\n\n    ","\n"]);return F=function(){return n},n}var R=s.b.span.attrs((function(n){var e=n.delay;return{style:{gridColumnStart:n.x+1,gridRowStart:n.y+1,gridColumnEnd:"span 1",gridRowEnd:"span 1",transitionDelay:"".concat(e,"ms"),animationDelay:"".concat(e,"ms")}}}))(F(),(function(n){return S[n.type]})),_=function(n){var e=n.animationFrameDuration,t=n.x,r=n.y,o=n.onMouseDown,c=n.onMouseOver,i=Object(u.c)((function(n){return n.nodes.nodes[r][t]}));return a.a.createElement(R,{delay:i.visitedIndex*e,type:i.type,x:i.x,y:i.y,onMouseDown:o,onMouseOver:c})},A=t(8);function P(n,e){return Array(e).fill(0).map((function(e,t){return Array(n).fill(0).map((function(n,e){return function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.empty;return{x:n,y:e,type:t,visitedIndex:null}}(e,t)}))}))}function W(n,e){return!(!n||!e)&&(n.x===e.x&&n.y===e.y)}function B(n,e,t){return W(n,e)||W(n,t)}var J="ready",U="running",$="done";var q=function(n,e){var t=P(n,e),r=Math.floor(t.length/2),a=Math.floor(t[0].length/2),o={y:r,x:a},c={y:Math.floor(r/2),x:a};return t[o.y][o.x].type=I.start,t[c.y][c.x].type=I.end,{columns:n,rows:e,nodes:t,startNode:o,endNode:c,pathfinding:J,selectedDrawTool:I.wall,animationFrameDuration:20}}(40,30),G=Object(A.b)({name:"nodesMetadata",initialState:q,reducers:{changeColumns:function(n,e){var t=e.payload;n.columns=t},changeRows:function(n,e){var t=e.payload;n.rows=t},startPathfinding:function(n){n.pathfinding===J&&(n.pathfinding=U)},setNodesType:function(n,e){switch(n.pathfinding){case J:en(n,e);break;case U:!function(n,e){var t=e.payload,r=t.nodes,a=t.type,o=n.startNode,c=n.endNode;switch(a){case I.visited:r.forEach((function(e){if(!B(e,o,c)){var t=n.nodes[e.y][e.x];t.type=I.visited,t.visitedIndex=e.visitedIndex}}));break;case I.result:r.forEach((function(e,t){if(!B(e,o,c)){var r=n.nodes[e.y][e.x];r.type=I.result,r.visitedIndex=t}})),n.pathfinding=$}}(n,e)}},changeSelectedTool:function(n,e){var t=e.payload;z(t)&&(n.selectedDrawTool=t)},draw:function(n,e){n.pathfinding===J&&(e.payload.type=n.selectedDrawTool,en(n,e))},clearNodes:function(n){n.nodes.forEach((function(n){return n.forEach((function(n){z(n.type)||(n.type=I.empty),n.visitedIndex=null}))})),n.pathfinding=J},resetNodes:function(){return q}}}),H=G.actions,K=G.reducer,L=(H.changeColumns,H.changeRows,H.startPathfinding),Q=H.setNodesType,V=H.changeSelectedTool,X=H.draw,Y=H.clearNodes,Z=H.resetNodes,nn=K;function en(n,e){var t=e.payload,r=t.nodes,a=t.type,o=n.startNode,c=n.endNode;switch(a){case I.start:case I.end:if(1!==r.length)return;var i=r[0];if(B(i,o,c))return;var u=a===I.start?o:c,l=u.x,s=u.y;n.nodes[s][l].type=I.empty;var d=i.x,f=i.y;u.x=d,u.y=f,n.nodes[f][d].type=a;break;case I.empty:case I.wall:var b=n.nodes;r.forEach((function(n){B(n,o,c)||(b[n.y][n.x].type=a)}))}}var tn=function(n){var e=n.animationFrameDuration,t=Object(r.useRef)(!1),o=Object(u.c)((function(n){return n.nodes.columns})),c=Object(u.c)((function(n){return n.nodes.rows})),l=Object(u.c)((function(n){return n.tools.fullscreen})),s=Object(u.b)(),d=function(n){t.current&&f(n)},f=function(n){return s(X({nodes:[n]}))},b=Object(i.a)(Array(c).keys()),p=Object(i.a)(Array(o).keys());return a.a.createElement(m,{fullscreen:l,columns:o,rows:c,onMouseDown:function(){return t.current=!0},onMouseUp:function(){return t.current=!1}},b.map((function(n){return p.map((function(t){return a.a.createElement(_,{key:"".concat(t,"_").concat(n),x:t,y:n,animationFrameDuration:e,onMouseDown:f.bind(null,{x:t,y:n}),onMouseOver:d.bind(null,{x:t,y:n})})}))})))};function rn(){var n=Object(l.a)(["\n  margin: 0 auto;\n  width: 90%;\n  max-width: 1100px;\n  text-align: center;\n  border-radius: 10px;\n"]);return rn=function(){return n},n}var an=s.b.div(rn());function on(){var n=Object(l.a)(["\n  font-size: 3rem;\n  color: var(--text-clr);\n  -webkit-text-stroke: 2px black;\n"]);return on=function(){return n},n}var cn=s.b.h1(on());function un(){var n=Object(l.a)(["\n      opacity: 1;\n      transform: scale(1.2, 1.2);\n      border-color: var(--secondary-clr);\n    "]);return un=function(){return n},n}function ln(){var n=Object(l.a)(["\n  border-radius: 10px;\n  background-color: ",";\n  font-size: 1.5rem;\n  color: var(--light-txt-clr);\n  padding: ",";\n  text-align: center;\n  max-width: 100px;\n  margin: 2% auto 0 auto;\n  border: 2px solid black;\n  cursor: pointer;\n  opacity: 0.6;\n  transition: opacity 0.25s, transform 0.25s;\n\n  ","\n\n  :hover {\n    opacity: 1;\n  }\n\n"]);return ln=function(){return n},n}var sn=s.b.button(ln(),(function(n){return n.primary?"var(--primary-clr)":"var(--secondary-clr)"}),(function(n){return n.children?".5em .75em":".75em"}),(function(n){return n.selected&&Object(s.a)(un())}));function dn(){var n=Object(l.a)(["> * { margin-bottom: 0.4em }\n                                flex-direction: column;\n                                position: fixed;\n                                top: ",";\n                                right: ",";\n                                left: ",";\n                                bottom: ",";\n                                z-index: 2;"]);return dn=function(){return n},n}function fn(){var n=Object(l.a)(["\n    display: flex;\n    justify-content: center;\n    > * {\n        width: 100%;\n        margin: .4em;\n    }\n    ","\n"]);return fn=function(){return n},n}var bn=s.b.div(fn(),(function(n){return n.fullscreen&&Object(s.a)(dn(),n.top,n.right,n.left,n.bottom)})),pn=function(){var n=Object(u.b)(),e=Object(u.c)((function(n){return n.nodes.selectedDrawTool})),t=Object(u.c)((function(n){return n.tools.fullscreen}));return a.a.createElement(bn,{fullscreen:t,top:0,right:"-1px"},Array.from(C).map((function(t){return a.a.createElement(sn,{key:t,onClick:function(){return n(V(t))},selected:t===e,style:{backgroundColor:T[t],maxWidth:".75em",margin:".2em .4em"}})})))},mn={toolType:I.wall,fullscreen:!1},vn=Object(A.b)({name:"tools",initialState:mn,reducers:{toggleFullscreen:function(n){n.fullscreen=!n.fullscreen}}}),yn=vn.reducer,gn=vn.actions.toggleFullscreen,hn=yn,xn=function(){var n=Object(u.b)(),e=Object(u.c)((function(n){return n.tools.fullscreen}));return a.a.createElement(sn,{onClick:function(){return n(gn())},style:{position:"fixed",left:0,bottom:0,margin:".4em",zIndex:"2"}},e?"\u274c":"\ud83d\udd3c")},jn=t(21),On=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=Object(u.b)(),o=Object(r.useRef)(null),c=Object(r.useCallback)((function(){a(L());var r=e(n),c=r.visited,i=r.result;c&&a(Q({nodes:c,type:I.visited})),i&&(o.current=setTimeout((function(){return a(Q({nodes:i,type:I.result}))}),t*c.length))}),[e,n,t,a]),i=Object(r.useCallback)((function(){return clearTimeout(o.current)}),[o]);return[c,i]},wn=t(6);function kn(n){var e=[],t=n.flat().filter((function(n){return n.type!==I.wall})).map((function(n){return Object(wn.a)(Object(wn.a)({},n),{},{distance:n.type===I.start?0:1/0,previousNode:null})})),r=0,a=function(){t.sort((function(n,e){return n.distance-e.distance}));var n=t[0];return n.distance===1/0?{v:{visited:e,result:null}}:(t.shift(),t=t.map((function(e){return t=n,r=e,Math.abs(t.x-r.x)+Math.abs(t.y-r.y)===1?Object(wn.a)(Object(wn.a)({},e),{},{distance:Math.min(e.distance,n.distance+1),previousNode:e.distance>n.distance+1?n:e.previousNode}):e;var t,r})),e.push(Object(wn.a)(Object(wn.a)({},n),{},{visitedIndex:r})),n.type===I.end?"break":void 0)};n:for(;0!==t.length;r++){var o=a();switch(o){case"break":break n;default:if("object"===typeof o)return o.v}}for(var c=[],i=e.find((function(n){return n.type===I.end})).previousNode;i.type!==I.start;i=i.previousNode)c.push(i);return{visited:e,result:c}}var En=function(){var n,e,t=Object(u.c)((function(n){return n.tools.fullscreen})),r=Object(u.c)((function(n){return n.nodes.nodes})),o=Object(u.c)((function(n){return n.nodes.animationFrameDuration})),c=Object(u.c)((function(n){return n.nodes.pathfinding})),i=Object(u.b)(),l=On(r,kn,o),s=Object(jn.a)(l,2),d=s[0],f=s[1],b=!1;return c===J?(n=function(){return d()},e="Start"):(n=function(){f(),i(Y())},e="Clear",b=!0),a.a.createElement(bn,{fullscreen:t,bottom:0,right:0},a.a.createElement(sn,{onClick:n,primary:b},e),a.a.createElement(sn,{onClick:function(){f(),i(Z())},primary:!0},"Reset"))};var Nn=function(){return a.a.createElement(an,null,a.a.createElement(cn,null,"Pathfinding tool"),a.a.createElement(pn,null),a.a.createElement(tn,{animationFrameDuration:20}),a.a.createElement(En,null),a.a.createElement(xn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Dn={nodes:nn,tools:hn},Mn=Object(A.a)({reducer:Dn,middleware:[]});c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:Mn},a.a.createElement(Nn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.df906614.chunk.js.map